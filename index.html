<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        	        
        <script type="text/javascript" src="https://qa01.gateway.mastercard.com/static/srci/1.2.0/srci.min.js"></script>
    </head>
    
    <body>
        <div class="col-sm-12">
            <h3>Card List Component</h3>
            <div>
				<src-card-list token direct="true"></src-card-list>
                <button type="button"  id="launchUI"
                        onclick="launchUI()">launch UI
                </button>
				<button type="button"  id="cardList"
                        onclick="loadCardList()">Load card list
                </button>
				<button type="button"  id="addCard"
                        onclick="addCard()">Add Card
                </button>
            </div>
        </div>
        <script>
            window.addEventListener('onCardEncrypt', (e) => {
               // show(enrollCardAndCheckoutButton);
                cardDetails = e.detail;
            });
			configure();
			function configure() {
			  SRCi.configure('SRC_TEST', 'abc', 'https://abc.com', 'SESSION0002585966927M49899439I4', {wsVersion: 63}, function(resp){
                console.log(resp)
				});	
			}
			
			function launchUI() {
                    SRCi.launchUI({orderAmount: "100", orderCurrency: 'USD', enableInlineComponents:true}, function(a, b){
                        console.log('a: ' + a +  ' b: ' + b )
                    }, function() {}, function(){})
			}
			
			function addCard() {
                    SRCi.launchUI({orderAmount: "100", orderCurrency: 'USD', redirectionForReturningUser: 'CARD_INPUT'}, function(a, b){
                        console.log('a: ' + a +  ' b: ' + b )
                    }, function() {}, function(){})
			}
			
			function loadCardList() {
				SRCi.isRecognized((err, response) => {
				if (err) {
					console.log(err)
					return;
				}

					if (response.isRecognized) {
						idToken = response.idToken;
						var cardListComponent = document.getElementsByTagName('src-card-list');
						cardListComponent[0].setAttribute('token', idToken);
					}
        });
    }

			

        </script>
    </body>
</html>
